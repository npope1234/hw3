<html>
    <head>
        <title>Japanese Honeysuckle in Kentucky</title>
        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
        integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
        crossorigin=""/>
        <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
        integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
        crossorigin=""></script>
        <script src="./data/honeysuckle_plots.js" ></script>
    </head>
    <body>
    <div id="mapid"></div>
    
    <style>
        #mapid{ width: 80%; max-width: 900px; height: 500px; margin: 0 auto;}
    </style>
    <script>  


    var map = L.map('mapid').setView([37.5, -85.3], 7);

    var OpenStreetMap = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
        }).addTo(map);

    var USGS_USImageryTopo = L.tileLayer('https://basemap.nationalmap.gov/arcgis/rest/services/USGSImageryTopo/MapServer/tile/{z}/{y}/{x}', {
	maxZoom: 20,
	attribution: 'Tiles courtesy of the <a href="https://usgs.gov/">U.S. Geological Survey</a>'
}).addTo(map);

var invisibleIcon = L.divIcon({
    html: '',
    iconSize: [0,0],
    className: ''
});

L.marker([37.8393, -84.2700], {icon: invisibleIcon}).addTo(map)
        .bindPopup('<strong>Japanese Honeysuckle in Kentucky</strong><br>' + '<div style="text-align:center;">' + '<img src="./images/lonicera japonica.jpeg" width="80px">' + '</div>')
        .openPopup();

    var honeysuckleIcon = L.icon({
        iconUrl: "./images/download.png",
        iconSize: [40, 40],
        iconAnchor: [20, 40],
        popupAnchor: [0, -40]
    });

    var myGeoJSON = L.geoJSON(sightings, {
    pointToLayer: function (feature, latlng) {
        var cover = feature.properties.Percentcov;
        
        return L.marker(latlng, { icon: honeysuckleIcon})
        .bindPopup(
            "<strong>Species:</strong> " + feature.properties.ComName +
            "<br><strong>Percent cover:</strong> " + (cover ? cover.trim() : "Unknown") +
            "<br><strong>Observed:</strong> " + feature.properties.ObsDate
        );
    }
        }).addTo(map); 
    
   
var baseMaps = {
    "OpenStreetMap": OpenStreetMap,
    "USGS_USImageryTopo": USGS_USImageryTopo
};

var overlayMaps = {
    "Honeysuckle Sightings": myGeoJSON
};
var layerControl = L.control.layers(baseMaps, overlayMaps).addTo(map);

OpenStreetMap.addTo(map);
myGeoJSON.addTo(map);
    // end of script
    </script>
    </body>
</html>
